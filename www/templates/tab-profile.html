<ion-view cache-view="false" view-title="Profile" ng-init="profileCl.load()">

  <ion-nav-buttons side="left" ng-cloak>
    <button class="button button-clear button-light" ng-show="profileCl.editMode" ng-click="profileCl.editMode = !profileCl.editMode" ng-cloak>Cancel</button>
  </ion-nav-buttons>

  <ion-nav-buttons side="right">
    <button class="button button-clear button-light" ng-show="!profileCl.editMode" ng-click="profileCl.editMode = !profileCl.editMode" ng-cloak>Edit</button>
    <button class="button button-clear button-light" ng-show="profileCl.editMode" ng-click="profileCl.updateUser()" ng-cloak>Save</button>
  </ion-nav-buttons>

  <ion-nav-bar class="bar-positive"></ion-nav-bar>

  <ion-content>
    <ion-list>

      <!-- Add a Profile Image Here -->
      <img ng-src="{{profileCl.userObj.profileImgUrl}}" class="profileImg" ng-click="profileCl.changeProfileImg()">

      <div class="center">
        <h4>{{profileCl.userObj.fname}} {{profileCl.userObj.lname}}</h4>
        <h5>{{profileCl.userObj.email}}</h5>
        <h5>{{profileCl.userObj.phone}}</h5>
      </div>

      <!-- NON EDIT MODE -->
      <div ng-show="!profileCl.editMode">
        <div class="card">
          <div class="item item-divider">
            Driver Info
          </div>
          <div class="item item-text-wrap">
            {{profileCl.userObj.license}}
            {{profileCl.userObj.licenseState}}
          </div>
        </div>

        <div class="card">
          <div class="item item-divider">
            Insurance Info
          </div>
          <div class="item item-text-wrap">
            {{profileCl.userObj.insurance}}
            {{profileCl.userObj.policy}}
            {{profileCl.userObj.agent}}
            {{profileCl.userObj.agentEmail}}
          </div>
        </div>
      </div>

      <!-- EDIT MODE -->
      <div ng-show="profileCl.editMode">
        <div class="item item-divider">
           Personal Info
        </div>

        <label class="item item-input">
          <span class="input-label">First Name</span>
          <input type="text" ng-model="profileCl.userObj.fname">
        </label>

        <label class="item item-input">
          <span class="input-label">Last Name</span>
          <input type="text" ng-model="profileCl.userObj.lname">
        </label>

        <label class="item item-input">
          <span class="input-label">Date of Birth</span>
          <input type="date" placeholder="DOB" ng-model="profileCl.userObj.dob">
        </label>

        <label class="item item-input">
          <i class="icon ion-ios-telephone placeholder-icon input-label"></i>
          <input type="text" placeholder="Phone Number" ng-model="profileCl.userObj.phone">
        </label>

        <label class="item item-input">
          <i class="icon ion-at placeholder-icon input-label"></i>
          <input type="email" placeholder="Email Address" ng-model="profileCl.userObj.email">
        </label>

        <div class="item item-divider">
           Driver Info
        </div>

        <label class="item item-input">
          <span class="input-label">Driver's Licence Number</span>
          <input type="text" ng-model="profileCl.userObj.license">
        </label>

        <label class="item item-input">
          <span class="input-label">Driver's Licence State</span>
          <input type="text" ng-model="profileCl.userObj.licenseState">
        </label>

        <div class="item item-divider">
           Insurance Info
        </div>

        <label class="item item-input">
          <span class="input-label">Insurance Company</span>
          <input type="text" ng-model="profileCl.userObj.insurance">
        </label>

        <label class="item item-input">
          <span class="input-label">Policy Number</span>
          <input type="text" ng-model="profileCl.userObj.policy">
        </label>

        <label class="item item-input">
          <span class="input-label">Agent Name</span>
          <input type="text" ng-model="profileCl.userObj.agent">
        </label>

        <label class="item item-input">
          <span class="input-label">Agent Email</span>
          <input type="email" ng-model="profileCl.userObj.agentEmail">
        </label>
      </div>

      <button class="button button-full button-assertive" ng-click="profileCl.signOut()">Sign Out</button>

    </ion-list>
  </ion-content>
</ion-view>
